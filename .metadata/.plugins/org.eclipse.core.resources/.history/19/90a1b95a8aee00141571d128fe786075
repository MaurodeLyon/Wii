package main;

import wiiusej.WiiUseApiManager;
import wiiusej.Wiimote;
import wiiusej.wiiusejevents.utils.WiimoteListener;

public class WiiMoteController implements WiimoteListener {

	private WiiMoteModel model;
	private WiiMoteView view;
	private Wiimote[] wiimotes;

	public WiiMoteController(WiiMoteView view, WiiMoteModel model) {
		this.model = model;
		this.view = view;
		connectWiiMotes();
	}

	private void connectWiiMotes() {
		wiimotes = WiiUseApiManager.getWiimotes(4, true);
		for (int id = 0; id < wiimotes.length; id++) {
			Wiimote wiimote = wiimotes[id];
			switch (id) {
			case 0:
				wiimote.setLeds(true, false, false, false);
				break;
			case 1:
				wiimote.setLeds(false, true, false, false);
				break;
			case 2:
				wiimote.setLeds(false, false, true, false);
				break;
			case 3:
				wiimote.setLeds(false, false, false, true);
				break;
			}
			wiimote.addWiiMoteEventListeners(this);
		}
	}
}
